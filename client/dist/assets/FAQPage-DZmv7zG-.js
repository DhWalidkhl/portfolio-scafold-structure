import{U as u,r as c,e as g,j as e,L as d,b}from"./index-Bfnetnmc.js";import{A as p}from"./AdminDashboardLayout-DBHzJ8nP.js";import{a as f}from"./index-DDSRmHA8.js";import{R as A}from"./index-Ba3dWYwl.js";import{G as N,L}from"./Layout-CBpvgP77.js";import{L as F,s as a}from"./Login-Biry1FXA.js";import{F as y}from"./FAQStore-CnNFlEP7.js";function v(s){return N({attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{id:"Circle_Plus"},child:[{tag:"g",attr:{},child:[{tag:"path",attr:{d:"M15,12.5H12.5V15a.5.5,0,0,1-1,0V12.5H9a.5.5,0,0,1,0-1h2.5V9a.5.5,0,0,1,1,0v2.5H15A.5.5,0,0,1,15,12.5Z"},child:[]},{tag:"path",attr:{d:"M12,21.932A9.934,9.934,0,1,1,21.932,12,9.944,9.944,0,0,1,12,21.932ZM12,3.065A8.934,8.934,0,1,0,20.932,12,8.944,8.944,0,0,0,12,3.065Z"},child:[]}]}]}]})(s)}const E=()=>{let{isLogin:s}=u(),n=sessionStorage.getItem("role"),{FAQList:i,FAQListRequest:l}=y();const[x,h]=c.useState(!1);c.useEffect(()=>{s()&&n==="admin"?l():(g.remove("token"),sessionStorage.clear())},[l,s,n,x]);const m=async t=>{a({title:"Are you sure?",text:"Once deleted, you will not be able to recover this imaginary file!",icon:"warning",buttons:!0,dangerMode:!0}).then(async r=>{if(r)try{n==="admin"&&((await b.delete(`/api/v1/DeleteFAQ/${t}`)).data.status==="success"?(a("Your FAQ has been deleted!",{icon:"success"}),h(j=>!j)):a("Failed to FAQ the blog!",{icon:"error"}))}catch(o){a("Something went wrong!",{icon:"error",message:o.toString()})}else a("Your FAQ is safe!")})};return s()?e.jsxs(p,{children:[e.jsxs("div",{className:"container mx-auto flex align-items-center justify-between",children:[e.jsxs("h1",{className:"text-xl font-semibold",children:["Total FAQ : ",i.length]}),e.jsx("div",{className:"tooltip tooltip-top","data-tip":"Add new FAQ",children:e.jsx(d,{to:"/dashboard/create-faq",className:"btn btn-circle border-none btn-outline btn-neutral",children:e.jsx(v,{className:"text-6xl"})})})]}),n==="admin"?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-center",children:e.jsx("label",{children:"SL"})}),e.jsx("th",{className:"text-center",children:"QSTN"}),e.jsx("th",{className:"text-center",children:"ANS"}),e.jsx("th",{className:"text-center",children:"Action"})]})}),e.jsx("tbody",{children:i.map((t,r)=>e.jsxs("tr",{children:[e.jsx("th",{children:e.jsx("label",{children:r+1})}),e.jsx("td",{children:e.jsx("p",{className:"font-bold",children:t.qstn.slice(0,15)})}),e.jsx("td",{children:e.jsx("p",{children:t.ans.slice(0,100)})}),e.jsx("th",{children:e.jsxs("div",{className:"flex gap-1",children:[e.jsx(d,{to:`/faqdetails/${t==null?void 0:t._id}`,className:"btn btn-ghost btn-xs text-lg",children:e.jsx(f,{})}),e.jsx("button",{onClick:()=>m(t==null?void 0:t._id),className:"btn btn-soft btn-error btn-xs text-md",children:e.jsx(A,{})})]})})]},t._id))})]})}):e.jsx(e.Fragment,{})]}):e.jsx(L,{children:e.jsxs("div",{className:"flex flex-col gap-10 items-center justify-center h-screen",children:[e.jsx("h1",{className:"text-4xl font-bold",children:"Please Login to Access the Page"}),e.jsx(F,{})]})})};export{E as default};
