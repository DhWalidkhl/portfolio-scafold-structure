import{U as o,r as d,d as x,j as s,a as h}from"./index-vAjyzMt2.js";import{L as r}from"./Layout-aUY-8fgS.js";import{L as u,s as f}from"./Login-Cw9ZxH3L.js";const j=()=>{const{isLogin:l,ProfileDetailsByID:n,UserProfile:e,LoginFormData:i,LoginFormOnChange:t}=o();console.log(i),d.useEffect(()=>{e&&(t("firstName",e.firstName),t("lastName",e.lastName),t("mobile",e.mobile))},[e]),d.useEffect(()=>{l()?n():(x.remove("token"),sessionStorage.clear())},[]);const m=async a=>{a.preventDefault();try{(await h.patch("/api/v1/UpdateUserProfile",i)).data.status==="success"&&(f("Profile Updated successfully!"),n())}catch(c){console.error(c)}};return l()?s.jsx(r,{children:s.jsxs("div",{className:"mt-20 container mx-auto",children:[s.jsxs("h1",{className:"text-2xl underline font-semibold text-center mb-10",children:[e==null?void 0:e.firstName," ",e==null?void 0:e.lastName," profile details "]}),s.jsx("div",{className:"hero",children:s.jsx("form",{onSubmit:m,children:s.jsxs("div",{className:"hero-content flex-col gap-15 lg:flex-row-reverse",children:[s.jsx("img",{src:e==null?void 0:e.img,className:"max-w-lg rounded-lg shadow-2xl"}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex flex-row justify-between gap-8",children:[s.jsxs("fieldset",{className:"fieldset",children:[s.jsx("legend",{className:"fieldset-legend",children:"First Name"}),s.jsx("input",{onChange:a=>t("firstName",a.target.value),type:"text",defaultValue:e==null?void 0:e.firstName,className:"input",placeholder:"Type here"})]}),s.jsxs("fieldset",{className:"fieldset",children:[s.jsx("legend",{className:"fieldset-legend",children:"Last Name"}),s.jsx("input",{onChange:a=>t("lastName",a.target.value),type:"text",defaultValue:e==null?void 0:e.lastName,className:"input",placeholder:"Type here"})]})]}),s.jsxs("fieldset",{className:"fieldset",children:[s.jsx("legend",{className:"fieldset-legend",children:"Email"}),s.jsx("input",{type:"text",defaultValue:e==null?void 0:e.email,disabled:!0,className:"input w-full",placeholder:"Type here"})]}),s.jsxs("fieldset",{className:"fieldset",children:[s.jsx("legend",{className:"fieldset-legend",children:"Mobile"}),s.jsx("input",{onChange:a=>t("mobile",a.target.value),type:"text",defaultValue:e==null?void 0:e.mobile,className:"input",placeholder:"Type here"})]}),s.jsx("button",{className:"btn btn-soft btn-success w-full mt-10",children:"Update"})]})]})})})]})}):s.jsx(r,{children:s.jsxs("div",{className:"flex flex-col gap-10 items-center justify-center h-screen",children:[s.jsx("h1",{className:"text-4xl font-bold",children:"Please Login to Access the Page"}),s.jsx(u,{})]})})};export{j as default};
