import{U as f,r as d,e as h,j as e,L as j}from"./index-p3BFF7i3.js";import{A as u}from"./AdminDashboardLayout-DAnxA7Op.js";import{C as y}from"./contactMessageStore-B-BjvgmP.js";import{L as v}from"./Login-BsKrB7hR.js";import{L as N}from"./Layout-Cc2K0M5V.js";const S=()=>{let{isLogin:t}=f();const{ContactMessageList:l,ContactMessageListRequest:c,ContactMessageListByUser:o,ContactMessageListRequestByUser:n}=y();let r=sessionStorage.getItem("role");const[m,i]=d.useState(!1);return d.useEffect(()=>{t()&&r==="admin"?(i(!0),c(),i(!1)):t()&&r==="user"?(i(!0),n(),i(!1)):(h.remove("token"),sessionStorage.clear())},[c,n,t,m]),t()?e.jsx(u,{children:r==="admin"?e.jsxs("div",{className:"container p-2 sm:p-4",children:[e.jsxs("div",{className:"mb-4 px-11 text-2xl font-semibold leading-tight flex flex-row justify-between items-center",children:[e.jsx("h2",{children:"Message from user"}),e.jsxs("p",{children:["Total Message: ",l.length||0]})]}),e.jsxs("div",{className:"flex px-10 flex-col overflow-x-auto",children:[e.jsxs("div",{className:"flex text-center bg-gray-200 font-semibold",children:[e.jsx("div",{className:"flex items-center text-center justify-center w-8 px-2 py-3 sm:p-3",children:"SL"}),e.jsx("div",{className:"w-32 px-2 py-3 sm:p-3",children:"Sender"}),e.jsx("div",{className:"flex-1 px-2 py-3 sm:p-3",children:"Message"}),e.jsx("div",{className:"hidden text-center w-24 px-2 py-3 sm:p-3 sm:block",children:"Action"})]}),l.map((s,p)=>{var a,x;return e.jsxs("div",{className:"flex border-b border-opacity-20",children:[e.jsx("div",{className:"flex items-center justify-center w-8 px-2 py-3 sm:p-3",children:p+1}),e.jsx("div",{className:"w-64 px-2 text-center py-3 sm:p-3",children:e.jsxs("p",{children:[(a=s==null?void 0:s.sender)==null?void 0:a.firstName," ",(x=s==null?void 0:s.sender)==null?void 0:x.lastName]})}),e.jsx("div",{className:"flex-1 block px-2 py-3 truncate sm:p-3 sm:w-auto",children:s==null?void 0:s.msg}),e.jsx("div",{className:"text-center w-24 px-2 py-3 sm:p-3 sm:block text-gray-400",children:e.jsx(j,{to:`/dashboard/singleMsg/${s==null?void 0:s._id}`,children:"View"})})]},s._id)})]})]}):e.jsxs("div",{className:"container p-2 sm:p-4",children:[e.jsxs("div",{className:"mb-4 px-11 text-2xl font-semibold leading-tight flex flex-row justify-between items-center",children:[e.jsx("h2",{children:"Message from You"}),e.jsxs("p",{children:["Total Message: ",o.length||0]})]}),e.jsxs("div",{className:"flex px-10 flex-col overflow-x-auto",children:[e.jsxs("div",{className:"flex text-center bg-gray-200 font-semibold",children:[e.jsx("div",{className:"flex items-center text-center justify-center w-8 px-2 py-3 sm:p-3",children:"SL"}),e.jsx("div",{className:"w-32 px-2 py-3 sm:p-3",children:"Sender"}),e.jsx("div",{className:"flex-1 px-2 py-3 sm:p-3",children:"Message"}),e.jsx("div",{className:"hidden text-center w-24 px-2 py-3 sm:p-3 sm:block",children:"Action"})]}),l.map(s=>e.jsxs("div",{className:"flex border-b border-opacity-20",children:[e.jsx("div",{className:"flex items-center justify-center w-8 px-2 py-3 sm:p-3",children:"1"}),e.jsx("div",{className:"w-32 px-2 text-center py-3 sm:p-3",children:e.jsx("p",{children:"Tracy Kim"})}),e.jsx("div",{className:"flex-1 block px-2 py-3 truncate sm:p-3 sm:w-auto",children:"An cum minimum voluptua repudiandae, nec illum essent et. Id tibique voluptatum per, eos eu civibus mnesarchum intellegam. An mundi detracto usu, diceret deserunt lobortis te cum."}),e.jsx("div",{className:"text-center w-24 px-2 py-3 sm:p-3 sm:block text-gray-400",children:e.jsx("p",{children:"View"})})]},s._id))]})]})}):e.jsx(N,{children:e.jsxs("div",{className:"flex flex-col gap-10 items-center justify-center h-screen",children:[e.jsx("h1",{className:"text-4xl font-bold",children:"Please Login to Access the Page"}),e.jsx(v,{})]})})};export{S as default};
