import{U as o,r as c,d as h,j as e,a as x}from"./index-DU19lRVZ.js";import{A as m}from"./AdminDashboardLayout-BBzBZDhx.js";import{s as l}from"./Login-C5ZUEUzY.js";import"./Layout-D6_-rYt6.js";const N=()=>{const{isLogin:t,UserListRequest:i,UserList:a}=o(),d=s=>{l({title:"Are you sure?",text:"Once deleted, you will not be able to recover this user!",icon:"warning",buttons:!0,dangerMode:!0}).then(async r=>{if(r)try{await x.delete(`/api/v1/DeleteUser/${s}`),await i(),l("User has been deleted!",{icon:"success"})}catch(n){console.error("Failed to delete user:",n),l("Error!","Something went wrong.","error")}})};return c.useEffect(()=>{t()?(i(),console.log(a)):(h.remove("token"),sessionStorage.clear())},[i,t]),e.jsx(m,{children:sessionStorage.getItem("role")==="admin"&&e.jsx("div",{children:t()?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:e.jsx("label",{children:"SL"})}),e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Email"}),e.jsx("th",{children:"Mobile Number"}),e.jsx("th",{children:"Action"})]})}),e.jsx("tbody",{children:a.map((s,r)=>e.jsxs("tr",{children:[e.jsx("th",{children:e.jsx("label",{children:r+1})}),e.jsx("td",{children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"avatar",children:e.jsx("div",{className:"mask mask-squircle h-12 w-12",children:e.jsx("img",{src:s.img,alt:"User Photo"})})}),e.jsxs("div",{children:[e.jsxs("div",{className:"font-bold",children:[s.firstName," ",s.lastName]}),s.role==="admin"?e.jsx("div",{className:"text-sm opacity-50 text-[red] font-semibold uppercase",children:s.role}):e.jsx("div",{className:"text-sm opacity-50",children:s.role})]})]})}),e.jsxs("td",{children:[e.jsx("p",{children:s.email}),(s==null?void 0:s.verified)==="yes"?e.jsx("p",{className:"text-[green] font-bold",children:"Verified"}):e.jsx("p",{className:"text-[red]",children:"Not Verified"})]}),e.jsx("td",{children:s.mobile}),e.jsx("th",{children:e.jsx("div",{className:"flex gap-1",children:s.role==="admin"?e.jsx(e.Fragment,{}):e.jsx("button",{onClick:()=>d(s._id),className:"btn btn-error btn-xs text-white",children:"delete"})})})]},s._id))})]})}):e.jsx("h1",{children:"Please Login"})})})};export{N as default};
