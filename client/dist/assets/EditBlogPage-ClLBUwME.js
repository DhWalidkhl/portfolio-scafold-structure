import{U as E,u as w,r as a,b as P,j as e}from"./index-CG6JTm5G.js";import{A as F}from"./AdminDashboardLayout-QiVuulmJ.js";import{L as C}from"./Layout-BoICrkGs.js";import{L as U,s as n}from"./Login-DOXCpxk0.js";import{B as D}from"./blogStore-QZzN2sRY.js";import{J as q}from"./jodit-react-xKFcI4QH.js";const H=()=>{const{isLogin:r,FileUploading:m,LoginFormData:u,LoginFormOnChange:o,FileUploadOnChange:h,ImageName:f,imagePublicId:b}=E(),{SingleBlog:s,BlogDetailsRequest:g,CreatingBlog:p,PostBlogRequest:x}=D(),{BlogID:c}=w(),j=a.useRef(null),[d,l]=a.useState(""),[v,N]=a.useState(!1),L=P();a.useEffect(()=>{s!=null&&s.des&&l(s.des)},[s]);const y=a.useMemo(()=>({height:400,enter:"BR",useTabForNext:!0,cleanHTML:{removeEmptyElements:!1,fillEmptyParagraph:!1},removeEmptyBlocks:!1,defaultLineHeight:""}),[]),k=async t=>{t.preventDefault();try{const i={...u,img:f,imagePublicId:b,des:d};await x(i)?(n("Good job!","Your Blog Updated Successfully","success"),L("/dashboard/approveblog-list")):n("Oops!","Failed to create blog. Please try again.","error")}catch(i){console.error("Create Blog",i),n("Error","Something went wrong! Please try again.","error")}finally{N(!1)}};return a.useEffect(()=>{r()&&g(c)},[c]),r()?e.jsx(F,{children:e.jsx(e.Fragment,{children:e.jsxs("form",{onSubmit:k,children:[e.jsx("label",{className:"block mb-5 font-semibold",children:e.jsx("input",{type:"text",value:s==null?void 0:s.title,className:"input input-bordered w-full mt-1",disabled:!0})}),e.jsxs("div",{className:"flex gap-8",children:[e.jsx("img",{src:s==null?void 0:s.img,alt:s==null?void 0:s.title,className:"w-64 rounded-md shadow"}),e.jsxs("fieldset",{className:"mb-6",children:[e.jsx("legend",{className:"text-lg font-semibold mb-2",children:"Thumbnail Photo"}),e.jsx("label",{htmlFor:"thumbnail-photo",className:"sr-only",children:"Thumbnail Photo"}),e.jsx("input",{id:"thumbnail-photo",type:"file",accept:"image/*",onChange:h,className:"file-input w-full",required:!0,disabled:v||m||p})]})]}),e.jsxs("div",{children:[e.jsx("legend",{className:"text-lg font-semibold mb-2",children:"Edit Blog Body"}),e.jsx(q,{ref:j,value:d,config:y,onBlur:t=>l(t),onChange:t=>l(t)})]}),e.jsxs("div",{className:"lg:flex gap-6 mb-6",children:[e.jsxs("fieldset",{className:"w-full",children:[e.jsx("legend",{className:"text-lg font-semibold mb-2",children:"Edit Github Link"}),e.jsx("label",{htmlFor:"github-link",className:"sr-only",children:"Edit Github Link"}),e.jsx("input",{id:"github-link",name:"githubLink",type:"url",value:s==null?void 0:s.githubLink,onChange:t=>o("githubLink",t.target.value),className:"input w-full",placeholder:"https://github.com/your-repo",required:!0})]}),e.jsxs("fieldset",{className:"w-full",children:[e.jsx("legend",{className:"text-lg font-semibold mb-2",children:"Edit Live Link"}),e.jsx("label",{htmlFor:"live-link",className:"sr-only",children:"Edit Live Link"}),e.jsx("input",{id:"live-link",name:"liveLink",type:"url",value:s==null?void 0:s.liveLink,onChange:t=>o("liveLink",t.target.value),className:"input w-full",placeholder:"https://your-live-site.com",required:!0})]})]}),e.jsx("button",{className:"btn btn-outline btn-warning",children:"Update"})]})})}):e.jsx(C,{children:e.jsxs("div",{className:"flex flex-col gap-10 items-center justify-center h-screen",children:[e.jsx("h1",{className:"text-4xl font-bold",children:"Please Login to Access the Page"}),e.jsx(U,{})]})})};export{H as default};
