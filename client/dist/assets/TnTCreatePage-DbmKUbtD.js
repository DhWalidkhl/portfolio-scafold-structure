import{U as T,r as a,j as e}from"./index-SqQM83lo.js";import{L as p,s as o}from"./Login-QQqLPZiN.js";import{A as y}from"./AdminDashboardLayout-BArspV-3.js";import{J as j}from"./jodit-react-C-a4mrAj.js";import{L as C}from"./Layout-Cbey84Vt.js";import{T as L}from"./TnTStore-DuTUhvqF.js";const B=()=>{const{isLogin:f,FileUploading:s,LoginFormData:d,LoginFormOnChange:m}=T(),{PostTnTRequest:g,CreatingTnT:n}=L(),h=a.useRef(null),[l,i]=a.useState(""),[r,u]=a.useState(!1),x=a.useMemo(()=>({placeholder:"Start typing your Terms & Condition...",height:400,enter:"BR",useTabForNext:!0,cleanHTML:{removeEmptyElements:!1,fillEmptyParagraph:!1},removeEmptyBlocks:!1,defaultLineHeight:""}),[]),b=async t=>{if(t.preventDefault(),!l){o("Validation Error","Please enter TnT content.","warning");return}u(!0);try{const c={title:d.title,des:l};await g(c)?(o("Good job!","Your TnT Created Successfully","success"),m("title",""),i("")):o("Oops!","Failed to create TnT. Please try again.","error")}catch(c){console.error("Create TnT",c),o("Error","Something went wrong! Please try again.","error")}finally{u(!1)}};return e.jsx(e.Fragment,{children:f()?e.jsx(y,{children:e.jsxs("section",{"aria-labelledby":"page-title",className:"mx-auto p-4",children:[e.jsx("h1",{id:"page-title",className:"text-center text-3xl font-semibold underline mb-8",children:"Write a new Terms & Condition Now"}),e.jsxs("form",{onSubmit:b,noValidate:!0,children:[e.jsxs("fieldset",{className:"mb-6",children:[e.jsx("legend",{className:"text-lg font-semibold mb-2",children:"Terms & Conditon Title"}),e.jsx("label",{htmlFor:"blog-title",className:"sr-only",children:"Terms & Conditon Title"}),e.jsx("input",{id:"TnT-title",name:"title",type:"text",value:d.title||"",onChange:t=>m("title",t.target.value),className:"input w-full",placeholder:"Type here",required:!0,disabled:r||s||n})]}),e.jsxs("div",{children:[e.jsx("legend",{className:"text-lg font-semibold mb-2",children:"Terms & Conditon Body"}),e.jsx(j,{ref:h,value:l,config:x,onBlur:t=>i(t),onChange:t=>i(t)})]}),e.jsx("button",{type:"submit",disabled:r||s||n,"aria-busy":r||s||n,"aria-disabled":r||s||n,className:"btn btn-soft btn-info mt-5 w-full",children:r||s||n?"Loading...":"Submit"})]})]})}):e.jsx(C,{children:e.jsxs("div",{className:"flex flex-col gap-10 items-center justify-center h-screen",children:[e.jsx("h1",{className:"text-4xl font-bold",children:"Please Login to Access the Page"}),e.jsx(p,{})]})})})};export{B as default};
